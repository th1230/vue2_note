<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>回顧Object.defineProperty</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
  </head>
  <body>
    <script>
      /* 
          sex通過Object.defineProperty語person建立了聯繫
          1. person中獲取 Sex 值的時候會找到 sex 並返回值
          2. person中設定 Sex 值的時候會找到 sex 並修改其值
          3. 直接修改 sex 也會影響到Person中獲取的Sex的值
      */

      let sex = "男";

      let person = {
        name: "thomas",
        age: 22,
      };

      Object.defineProperty(person, Sex, {
        // value: "男",
        // enumerable: true, //控制屬性是否可以枚舉，default為false
        // writable: true, //控制屬性是否可以修改，default為false
        // configurable: true, //控制屬性是否可以刪除，default為false

        //當有人讀取person的sex時，get函數(getter)就會被調用，且返回值就是sex的值。
        get() {
          console.log("有人讀取了sex屬性");
          return sex;
        },

        //當有人修改person的sex時，set函數(setter)就會被調用，且會收到修改後的具體值。
        set(value) {
          console.log("有人更改了sex屬性且值是" + value);
          sex = value;
        },
      });
    </script>
  </body>
</html>
